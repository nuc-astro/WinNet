<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WinNet: How it works</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="winnet_logo.png"/></td>
<!--
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WinNet
-->
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('how_it_works.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">How it works </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><ul><li class="level2"><a href="#autotoc_md7">How it works</a><ul><li class="level3"><a href="#autotoc_md8">Code structure and flow</a></li>
<li class="level3"><a href="#autotoc_md9">Rate replacement procedure</a></li>
</ul>
</li>
</ul>
</ul>
</div>
<div class="textblock"><h2><a class="anchor" id="autotoc_md7"></a>
How it works</h2>
<p>A reaction network takes reaction rates and thermodynamic conditions as an input and calculates nucleosynthetic yields. Here we describe the code flow and the reaction rate procedure.</p>
<h3><a class="anchor" id="autotoc_md8"></a>
Code structure and flow</h3>
<p>In the following, we describe the control flow of the nuclear reaction network code WinNet. The code starts by reading a user-defined file in the initialization step. This file contains runtime parameters such as paths to nuclear input data and other options.</p>
<p>After the initialization, the evolution mode is chosen. This mode is set to either <em>Network</em> or <em>NSE</em> and depends on the temperature. The implementation of several modes is necessary as the most efficient approach to determine the composition changes with temperature. Whereas solving the full network equations in a temperature regime where an equilibrium holds can lead to arbitrarily small time steps, solving NSE conditions in too low temperatures can lead to incorrect results.</p>
<p>For both evolution modes, the temperature, density, and neutrino quantities (i.e., neutrino temperatures and luminosities) are updated using either the Lagrangian tracer particle or a user-defined extrapolation (i.e., adiabatic, exponential, free). In the network regime, updating the temperature depends on the input settings and includes some special cases. If the user allows a feedback of the nuclear energy release on the temperature, a differential equation of the entropy is solved explicitly together with the nuclear reaction network equations. After updating the temperature, density, and neutrino properties, the reaction network equations are solved numerically. For the network regime, the full set of coupled differential equations (including all reactions) is solved. In the NSE regime, only weak reactions are considered in the equations and only the electron fraction is evolved. Furthermore, the NSE equations are solved.</p>
<p>If no convergence is achieved, the step size is halved and the iteration is repeated. Otherwise, an output is generated and the time is evolved (indicated by `&lsquo;rotate timelevels&rsquo;' in the Figure below). The main loop ends when an user defined termination criterion is fulfilled. Before the code terminates, final output such as the final abundances and mass fractions are written.</p>
<div class="image">
<img src="flow_diagram.png" alt="" height="900"/>
<div class="caption">
Flow diagram of WinNet</div></div>
<h3><a class="anchor" id="autotoc_md9"></a>
Rate replacement procedure</h3>
<p>Even though all nuclei are connected to every other by nuclear reactions, in practice most of the reactions are negligible. The most important reactions for astrophysical environments are given by reactions that involve nucleons or $\alpha$-particles, decays, neutrino reactions, electron- and positron captures, or fission reactions (See Figure below). There exists many formats of the reaction rates, WinNet is build around the Reaclib reaction rate library and this library usually contains the majority of reactions <a href="https://ui.adsabs.harvard.edu/abs/2010ApJS..189..240C">Cyburt et al.2010</a>. However, also other formats are supported to cover the variety of available reaction rate formats as, e.g., given as an output from the reaction rate code TALYS (see <a href="https://tendl.web.psi.ch/tendl_2019/talys.html">here</a>). Rates given in different formats are either added or merged into the list of all rates within WinNet. Hereby, the different formats have different priorities, starting with the reaclib reactions with the lowest priority. To make an example, in case the decay of \(^{172}\)Eu is included in the Reaclib file format and the $\beta$-delayed neutron emission format, the Reaclib rate will be replaced. If, in addition this rate is also included in the theoretical \(\beta^+\), \(\beta^-\), ec, and pc rates it is replaced once again. The priority of the individual rates is shown below. </p><div class="image">
<img src="rate_replacement_scheme.png" alt="" height="400"/>
<div class="caption">
Rate priorities within WinNet</div></div>
<p> We note that WinNet does not perform any evaluation on the reliability of a rate. If a rate is contained multiple times in different formats (not to confuse with a rate being contained multiple times in the same format which can happen due to, e.g., resonances in the rate), it is the users responsibility to choose the desired one by either fully automatically using the one with the highest priority or by deleting unwanted rates from high priority formats. The advantage of this method is that rates can be replaced without the need to delete them from other sources. In the following we give a short overview of the supported file formats within WinNet. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
  </ul>
</div>
</body>
</html>
